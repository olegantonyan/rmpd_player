!function(t){function e(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return t[r].call(u.exports,u,u.exports,e),u.l=!0,u.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.h=function(t,e){for(var n=[],r=[],u=arguments.length;2<u--;)n.push(arguments[u]);for(;n.length;){var i=n.pop();if(i&&i.pop)for(u=i.length;u--;)n.push(i[u]);else null!=i&&!0!==i&&!1!==i&&r.push(i)}return"function"==typeof t?t(e||{},r):{nodeName:t,attributes:e||{},children:r,key:e&&e.key}},e.app=function(t,e,n,r){function u(t){return"function"==typeof t?u(t(j,O)):null==t?"":t}function i(){d=!d;var t=u(n);for(r&&!d&&(b=function t(e,n,r,i,s){if(i===r);else if(null==r||r.nodeName!==i.nodeName){var c=function t(e,n){var r="string"==typeof e||"number"==typeof e?document.createTextNode(e):(n=n||"svg"===e.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",e.nodeName):document.createElement(e.nodeName),i=e.attributes;if(i){i.oncreate&&g.push(function(){i.oncreate(r)});for(var s=0;s<e.children.length;s++)r.appendChild(t(e.children[s]=u(e.children[s]),n));for(var o in i)p(r,o,i[o],null,n)}return r}(i,s);e.insertBefore(c,n),null!=r&&h(e,n,r),n=c}else if(null==r.nodeName)n.nodeValue=i;else{!function(t,e,n,r){for(var u in o(e,n))n[u]!==("value"===u||"checked"===u?t[u]:e[u])&&p(t,u,n[u],e[u],r);var i=_?n.oncreate:n.onupdate;i&&g.push(function(){i(t,e)})}(n,r.attributes,i.attributes,s=s||"svg"===i.nodeName);for(var a={},f={},d=[],v=r.children,b=i.children,m=0;m<v.length;m++){d[m]=n.childNodes[m];var j=l(v[m]);null!=j&&(a[j]=[d[m],v[m]])}for(var m=0,O=0;O<b.length;){var j=l(v[m]),y=l(b[O]=u(b[O]));if(f[j])m++;else if(null!=y&&y===l(v[m+1]))null==j&&h(n,d[m],v[m]),m++;else if(null==y||_)null==j&&(t(n,d[m],v[m],b[O],s),O++),m++;else{var w=a[y]||[];j===y?(t(n,w[0],w[1],b[O],s),m++):w[0]?t(n,n.insertBefore(w[0],d[m]),w[1],b[O],s):t(n,d[m],null,b[O],s),f[y]=b[O],O++}}for(;m<v.length;)null==l(v[m])&&h(n,d[m],v[m]),m++;for(var m in a)f[m]||h(n,a[m][0],a[m][1])}return n}(r,b,m,m=t)),_=!1;g.length;)g.pop()()}function s(){d||(d=!0,setTimeout(i))}function o(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n}function c(t,e,n){var r={};return t.length?(r[t[0]]=1<t.length?c(t.slice(1),e,n[t[0]]):e,o(n,r)):e}function a(t,e){for(var n=0;n<t.length;)e=e[t[n++]];return e}function l(t){return t?t.key:null}function f(t){return t.currentTarget.events[t.type](t)}function p(t,e,n,r,u){if("key"===e);else if("style"!==e)"o"===e[0]&&"n"===e[1]?(e=e.slice(2),t.events?r||(r=t.events[e]):t.events={},t.events[e]=n,n?r||t.addEventListener(e,f):t.removeEventListener(e,f)):e in t&&"list"!==e&&"type"!==e&&"draggable"!==e&&"spellcheck"!==e&&"translate"!==e&&!u?t[e]=null==n?"":n:null!=n&&!1!==n&&t.setAttribute(e,n),null!=n&&!1!==n||t.removeAttribute(e);else if("string"==typeof n)t.style.cssText=n;else for(var i in"string"==typeof r&&(r=t.style.cssText=""),o(r,n)){var s=null==n||null==n[i]?"":n[i];"-"===i[0]?t.style.setProperty(i,s):t.style[i]=s}}function h(t,e,n){function r(){t.removeChild(function t(e,n){var r=n.attributes;if(r){for(var u=0;u<n.children.length;u++)t(e.childNodes[u],n.children[u]);r.ondestroy&&r.ondestroy(e)}return e}(e,n))}var u=n.attributes&&n.attributes.onremove;u?u(e,r):r()}var d,v=[].map,b=r&&r.children[0]||null,m=b&&function t(e){return{nodeName:e.nodeName.toLowerCase(),attributes:{},children:v.call(e.childNodes,function(e){return 3===e.nodeType?e.nodeValue:t(e)})}}(b),g=[],_=!0,j=o(t),O=function t(e,n,r){for(var u in r)"function"==typeof r[u]?function(t,u){r[t]=function(t){var i=u(t);return"function"==typeof i&&(i=i(a(e,j),r)),i&&i!==(n=a(e,j))&&!i.then&&s(j=c(e,o(n,i),j)),i}}(u,r[u]):t(e.concat(u),n[u]=o(n[u]),r[u]=o(r[u]));return r}([],j,o(e));return s(),O}},function(t,e,n){n(2),n(3),n(4),t.exports=n(5)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),u=function(t){var e=t.state;return t.actions,Object(r.h)("div",{id:"home"},Object(r.h)("div",{class:"header"},Object(r.h)("h1",null,"Player #1234")),Object(r.h)("div",{class:"content"},Object(r.h)("h2",null,e.status.now_playing," (",e.status.percent_pos,"%)")))},i=function(t){return t.state,t.actions,Object(r.h)("div",{id:"system"},Object(r.h)("div",{class:"header"},Object(r.h)("h1",null,"System")),Object(r.h)("div",{class:"content"},Object(r.h)("p",null,"Advanced wifi info, logs, web console maybe"),Object(r.h)("button",{class:"pure-button pure-button-primary"},"Reboot")))},s=function(t){var e=t.state,n=t.actions;return Object(r.h)("div",{id:"settings"},Object(r.h)("div",{class:"header"},Object(r.h)("h1",null,"Settings")),Object(r.h)("div",{class:"content"},Object(r.h)("form",{class:"pure-form pure-form-aligned"},Object(r.h)("fieldset",null,Object(r.h)("div",{class:"pure-control-group"},Object(r.h)("label",{for:"wifi_ssid"},"WiFi SSID"),Object(r.h)("input",{id:"wifi_ssid",type:"text",placeholder:"",value:e.settings.wifi_ssid,oninput:function(t){return n.settings.update({wifi_ssid:t.target.value})}})),Object(r.h)("div",{class:"pure-control-group"},Object(r.h)("label",{for:"wifi_pass"},"WiFi password"),Object(r.h)("input",{id:"wifi_pass",type:"text",placeholder:"",value:e.settings.wifi_pass,oninput:function(t){return n.settings.update({wifi_pass:t.target.value})}})),Object(r.h)("div",{class:"pure-controls"},Object(r.h)("a",{class:"pure-button pure-button-primary",onclick:function(){return n.settings.save()},disabled:e.settings.saving},e.settings.saving?"Saving...":"Save"))))))},o=function(t){var e=t.state,n=t.actions;return Object(r.h)("div",{id:"container"},function(t,e){switch(t.nav_current_route){case"home":return Object(r.h)(u,{state:t,actions:e});case"system":return Object(r.h)(i,{state:t,actions:e});case"settings":return Object(r.h)(s,{state:t,actions:e});default:return Object(r.h)(u,{state:t,actions:e})}}(e,n))},c=function(t){var e=t.state;return t.actions,Object(r.h)("footer",{class:"footer"},Object(r.h)("p",null,"Now playing: ",e.status.now_playing," (",e.status.percent_pos,"%)"))},a=function(t){var e=t.state,n=t.actions;return Object(r.h)("div",null,Object(r.h)("a",{id:"menu_link",class:"menu-link",onclick:function(){return n.nav_menu_toggle(!e.nav_menu_open)}},Object(r.h)("span",null)),Object(r.h)("div",{id:"menu"},Object(r.h)("div",{class:"pure-menu"},Object(r.h)("ul",{class:"pure-menu-list"},Object(r.h)("li",{class:"home"===e.nav_current_route?"pure-menu-item pure-menu-selected":"pure-menu-item"},Object(r.h)("a",{class:"pure-menu-link",onclick:function(){return n.nav_route_to("home")}},"Home")),Object(r.h)("li",{class:"settings"===e.nav_current_route?"pure-menu-item pure-menu-selected":"pure-menu-item"},Object(r.h)("a",{class:"pure-menu-link",onclick:function(){return n.nav_route_to("settings")}},"Settings")),Object(r.h)("li",{class:"system"===e.nav_current_route?"pure-menu-item pure-menu-selected":"pure-menu-item"},Object(r.h)("a",{class:"pure-menu-link",onclick:function(){return n.nav_route_to("system")}},"System"))))))},l=[{nav_menu_open:!1,nav_current_route:"home",settings:{wifi_ssid:null,wifi_pass:null,saving:!1},status:{now_playing:"",percent_pos:0}},{nav_menu_toggle:function(t){return function(){return{nav_menu_open:t}}},nav_route_to:function(t){return function(e,n){switch(t){case"home":case"system":break;case"settings":n.settings.fetch()}return{nav_current_route:t,nav_menu_open:!1}}},settings:{fetch:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return function(t,e){fetch("/api/settings.json").then(function(t){return t.json()}).then(function(t){return e.update(t)})}}),save:function(){return function(t,e){e.saving(!0),fetch("/api/settings.json",{method:"POST",body:JSON.stringify({wifi_ssid:t.wifi_ssid,wifi_pass:t.wifi_pass}),headers:{"Content-Type":"application/json"}}).then(function(t){return t.json()}).catch(function(){return e.saving(!1)}).then(function(t){e.update(t),e.saving(!1)}).catch(function(){return e.saving(!1)})}},update:function(t){return function(){return t}},saving:function(t){return function(){return{saving:t}}}},status:{fetch:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return function(t,e){fetch("/api/status.json").then(function(t){return t.json()}).then(function(t){return e.update(t)})}}),update:function(t){return function(){return t}}}},function(t,e){return Object(r.h)("div",{id:"layout",class:t.nav_menu_open?"active":""},Object(r.h)(a,{state:t,actions:e}),Object(r.h)(o,{state:t,actions:e}),Object(r.h)(c,{state:t,actions:e}))},document.getElementById("app")];!function(t){t.status.fetch(),setInterval(function(){t.status.fetch()},1500)}(r.app.apply(void 0,l))},function(){},function(){},function(){}]);